# Airweave Environment Variables
# Copy this file to .env and update with your values

# Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=airweave
POSTGRES_PASSWORD=airweave1234!
POSTGRES_DB=airweave

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379

# Authentication
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=admin
ENCRYPTION_KEY=
AUTH_ENABLED=false
STATE_SECRET=

# Auth0 Configuration (required if AUTH_ENABLED=true)
AUTH0_DOMAIN=
AUTH0_AUDIENCE=
AUTH0_RULE_NAMESPACE=

# Embeddings Configuration
TEXT2VEC_INFERENCE_URL=http://localhost:9878

# Embedding Configuration
# This is the source of truth for embedding dimensions across the entire stack
# Must match: embedding provider model dimensions and Vespa schema
# Common values:
#   384  = Local (all-MiniLM-L6-v2, no API key needed)
#   1024 = Mistral (mistral-embed)
#   1536 = OpenAI (text-embedding-3-small) [DEFAULT]
#   3072 = OpenAI (text-embedding-3-large)
EMBEDDING_DIMENSIONS=1536

# API Keys (optional)
# Embedding provider auto-detected from available API keys (OpenAI > Mistral > local)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
MISTRAL_API_KEY=

# Development Settings
LOCAL_DEVELOPMENT=false
LOCAL_CURSOR_DEVELOPMENT=false
ENVIRONMENT=local
FRONTEND_LOCAL_DEVELOPMENT_PORT=8080
SKIP_AZURE_STORAGE=true
STRIPE_ENABLED=false

# Storage Backend Configuration
# ============================
# Backend selector: filesystem | azure | aws | gcp
# If not set, auto-resolves from ENVIRONMENT (local/test -> filesystem, dev/prd -> azure)
STORAGE_BACKEND=filesystem

# Filesystem backend (local development, K8s PVC)
# Default: ./local_storage (relative to project root)
# For local dev with debugger, use /tmp/airweave_local_storage to avoid uvicorn reload issues
# In K8s: /data/airweave-storage (PVC mount)
STORAGE_PATH=./local_storage

# Azure Blob Storage (when STORAGE_BACKEND=azure)
STORAGE_AZURE_ACCOUNT=
STORAGE_AZURE_CONTAINER=raw
STORAGE_AZURE_PREFIX=

# AWS S3 (when STORAGE_BACKEND=aws)
STORAGE_AWS_BUCKET=
STORAGE_AWS_REGION=
STORAGE_AWS_PREFIX=
STORAGE_AWS_ENDPOINT_URL=  # For MinIO, LocalStack, etc.

# GCP Cloud Storage (when STORAGE_BACKEND=gcp)
STORAGE_GCP_BUCKET=
STORAGE_GCP_PROJECT=
STORAGE_GCP_PREFIX=

# ============================
# Storage Backend Integration Tests
# ============================
# These variables configure the test infrastructure for storage backend tests.
# Tests run against real cloud resources and require valid credentials.
#
# AWS S3 Test Configuration
STORAGE_TEST_AWS_BUCKET=airweave-storage-backend-tests
STORAGE_TEST_AWS_REGION=us-east-1

# GCP GCS Test Configuration
STORAGE_TEST_GCP_BUCKET=airweave-storage-backend-tests
STORAGE_TEST_GCP_PROJECT=airweave-production

# Azure Blob Test Configuration
STORAGE_TEST_AZURE_ACCOUNT=airweavecoredevstorage
STORAGE_TEST_AZURE_CONTAINER=backend-tests


# Temporal Configuration
TEMPORAL_HOST=localhost
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=airweave-sync-queue
TEMPORAL_ENABLED=true

# Custom Deployment URLs (optional)
API_FULL_URL=
APP_FULL_URL=
ADDITIONAL_CORS_ORIGINS=

# Other Settings
PROJECT_NAME=Airweave
LOG_LEVEL=INFO
RUN_ALEMBIC_MIGRATIONS=true
RUN_DB_SYNC=true
CODE_SUMMARIZER_ENABLED=false

SVIX_URL=http://localhost:8071
SVIX_JWT_SECRET=

# Docling OCR fallback (set to enable secondary OCR provider)
DOCLING_BASE_URL=
